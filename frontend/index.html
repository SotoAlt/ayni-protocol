<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AYNI // Visual Stories</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/cyberpunk.css">
</head>
<body>
  <!-- Terminal Main Layout -->
  <main class="terminal-main">
    <!-- Glyph Canvas Area -->
    <section class="glyph-canvas-container">
      <canvas id="glyph-stream"></canvas>
    </section>

    <!-- Side Panel with Metadata -->
    <aside class="info-panel">
      <div class="panel-header">> AYNI v2</div>
      <div id="debug-info" style="color:#ff0;font-size:10px;padding:4px;background:#111;margin-bottom:8px;">Loading...</div>

      <div class="panel-section">
        <div class="section-title">SEQUENCE</div>
        <div id="glyph-sequence" class="glyph-sequence">
          <span class="glyph-icons">--</span>
          <span class="glyph-names">--</span>
        </div>
      </div>

      <div class="panel-section">
        <div class="section-title">MEANING</div>
        <pre id="message-meaning">--</pre>
      </div>

      <div class="panel-divider"></div>

      <div class="panel-section">
        <div class="section-title">LATEST</div>
        <pre id="message-info">FROM: --
TO:   --
SIZE: --
TIME: --
ENC:  --</pre>
      </div>

      <div class="panel-divider"></div>

      <div class="panel-section">
        <div class="section-title">STATS</div>
        <pre id="stats-info">MSGS:   0
GLYPHS: 0
BYTES:  0B
ROWS:   0</pre>
      </div>

      <div class="panel-divider"></div>

      <div class="panel-section">
        <div class="section-title">LEGEND</div>
        <pre id="legend-info"><span class="color-humanoid">H</span> Humanoid <span class="color-creature">C</span> Creature
<span class="color-machine">M</span> Machine  <span class="color-symbol">S</span> Symbol</pre>
      </div>

      <div class="panel-controls">
        <button class="term-btn" id="btn-pause">PAUSE</button>
        <button class="term-btn" id="btn-clear">CLEAR</button>
      </div>
    </aside>
  </main>

  <script>
    window.onerror = function(msg, url, line, col, error) {
      document.getElementById('debug-info').textContent = 'JS Error: ' + msg + ' at ' + url + ':' + line;
      return false;
    };
  </script>
  <script type="module" src="js/main.js"></script>
  <script type="module">
    // If this runs, modules are loading
    import('./js/main.js').catch(e => {
      document.getElementById('debug-info').textContent = 'Module Error: ' + e.message;
    });
  </script>
</body>
</html>
